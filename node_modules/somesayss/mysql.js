/**
 * author Yang
 * 
 * create 2013/07/14
 * 
 **/
var DB = require('mysql');
	
var mysql = function(host, user, password, database, port){
	return this instanceof mysql ? this.init(host, user, password, database, port) : new mysql(host, user, password, database, port);
}

mysql.prototype = {
	db:[],
	init:function(host, user, password, database, port){
		var db_options = {  
			    host: host,  
			    port: 3306,  
			    user: user,  
			    password: password,  
			    database: database  
			}; 
		db = DB.createConnection(db_options);
	},
	query: function(sql){
		db.query(sql,  
			function selectCb(err, results, fields) {  
			    if (err) {  
			        throw err;  
			      }    
			    
			      console.log(results);  
			     // console.log(fields);    
			      db.end();  
		    }  
		);
	}
	

	
}

exports.mysql = mysql;